// Code generated by ent, DO NOT EDIT.

package migrate

import (
	"entgo.io/ent/dialect/sql/schema"
	"entgo.io/ent/schema/field"
)

var (
	// ExecutionContextsColumns holds the columns for the "execution_contexts" table.
	ExecutionContextsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeString, Unique: true},
		{Name: "current_run_id", Type: field.TypeString},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"running", "completed", "failed"}},
		{Name: "start_time", Type: field.TypeTime},
		{Name: "end_time", Type: field.TypeTime, Nullable: true},
	}
	// ExecutionContextsTable holds the schema information for the "execution_contexts" table.
	ExecutionContextsTable = &schema.Table{
		Name:       "execution_contexts",
		Columns:    ExecutionContextsColumns,
		PrimaryKey: []*schema.Column{ExecutionContextsColumns[0]},
	}
	// HandlerExecutionsColumns holds the columns for the "handler_executions" table.
	HandlerExecutionsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeString, Unique: true},
		{Name: "run_id", Type: field.TypeString},
		{Name: "handler_name", Type: field.TypeString},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"pending", "running", "completed", "failed"}},
		{Name: "start_time", Type: field.TypeTime},
		{Name: "end_time", Type: field.TypeTime, Nullable: true},
		{Name: "retry_count", Type: field.TypeInt, Default: 0},
		{Name: "max_retries", Type: field.TypeInt, Default: 3},
		{Name: "execution_context_handler_executions", Type: field.TypeString},
		{Name: "handler_execution_children", Type: field.TypeString, Nullable: true},
		{Name: "handler_execution_saga_step_execution", Type: field.TypeString, Nullable: true},
	}
	// HandlerExecutionsTable holds the schema information for the "handler_executions" table.
	HandlerExecutionsTable = &schema.Table{
		Name:       "handler_executions",
		Columns:    HandlerExecutionsColumns,
		PrimaryKey: []*schema.Column{HandlerExecutionsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "handler_executions_execution_contexts_handler_executions",
				Columns:    []*schema.Column{HandlerExecutionsColumns[8]},
				RefColumns: []*schema.Column{ExecutionContextsColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "handler_executions_handler_executions_children",
				Columns:    []*schema.Column{HandlerExecutionsColumns[9]},
				RefColumns: []*schema.Column{HandlerExecutionsColumns[0]},
				OnDelete:   schema.SetNull,
			},
			{
				Symbol:     "handler_executions_saga_step_executions_saga_step_execution",
				Columns:    []*schema.Column{HandlerExecutionsColumns[10]},
				RefColumns: []*schema.Column{SagaStepExecutionsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
	}
	// HandlerTasksColumns holds the columns for the "handler_tasks" table.
	HandlerTasksColumns = []*schema.Column{
		{Name: "id", Type: field.TypeString, Unique: true},
		{Name: "task_type", Type: field.TypeEnum, Enums: []string{"handler", "side_effect", "transaction", "compensation"}, Default: "handler"},
		{Name: "handler_name", Type: field.TypeString},
		{Name: "payload", Type: field.TypeBytes, Nullable: true},
		{Name: "result", Type: field.TypeBytes, Nullable: true},
		{Name: "error", Type: field.TypeBytes, Nullable: true},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"pending", "in_progress", "completed", "failed"}},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "completed_at", Type: field.TypeTime, Nullable: true},
		{Name: "handler_execution_tasks", Type: field.TypeString, Nullable: true},
	}
	// HandlerTasksTable holds the schema information for the "handler_tasks" table.
	HandlerTasksTable = &schema.Table{
		Name:       "handler_tasks",
		Columns:    HandlerTasksColumns,
		PrimaryKey: []*schema.Column{HandlerTasksColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "handler_tasks_handler_executions_tasks",
				Columns:    []*schema.Column{HandlerTasksColumns[9]},
				RefColumns: []*schema.Column{HandlerExecutionsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
	}
	// SagaExecutionsColumns holds the columns for the "saga_executions" table.
	SagaExecutionsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeString, Unique: true},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"running", "completed", "failed"}},
		{Name: "start_time", Type: field.TypeTime},
		{Name: "end_time", Type: field.TypeTime, Nullable: true},
		{Name: "execution_context_id", Type: field.TypeString},
	}
	// SagaExecutionsTable holds the schema information for the "saga_executions" table.
	SagaExecutionsTable = &schema.Table{
		Name:       "saga_executions",
		Columns:    SagaExecutionsColumns,
		PrimaryKey: []*schema.Column{SagaExecutionsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "saga_executions_execution_contexts_saga_executions",
				Columns:    []*schema.Column{SagaExecutionsColumns[4]},
				RefColumns: []*schema.Column{ExecutionContextsColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
	}
	// SagaStepExecutionsColumns holds the columns for the "saga_step_executions" table.
	SagaStepExecutionsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeString, Unique: true},
		{Name: "saga_execution_id", Type: field.TypeString},
		{Name: "step_number", Type: field.TypeInt},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"pending", "in_progress", "completed", "failed", "compensated"}},
		{Name: "start_time", Type: field.TypeTime, Nullable: true},
		{Name: "end_time", Type: field.TypeTime, Nullable: true},
		{Name: "saga_execution_steps", Type: field.TypeString, Nullable: true},
	}
	// SagaStepExecutionsTable holds the schema information for the "saga_step_executions" table.
	SagaStepExecutionsTable = &schema.Table{
		Name:       "saga_step_executions",
		Columns:    SagaStepExecutionsColumns,
		PrimaryKey: []*schema.Column{SagaStepExecutionsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "saga_step_executions_saga_executions_steps",
				Columns:    []*schema.Column{SagaStepExecutionsColumns[6]},
				RefColumns: []*schema.Column{SagaExecutionsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
	}
	// SideEffectResultsColumns holds the columns for the "side_effect_results" table.
	SideEffectResultsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeString, Unique: true},
		{Name: "execution_context_id", Type: field.TypeString},
		{Name: "name", Type: field.TypeString},
		{Name: "result", Type: field.TypeBytes},
		{Name: "execution_context_side_effect_results", Type: field.TypeString, Nullable: true},
	}
	// SideEffectResultsTable holds the schema information for the "side_effect_results" table.
	SideEffectResultsTable = &schema.Table{
		Name:       "side_effect_results",
		Columns:    SideEffectResultsColumns,
		PrimaryKey: []*schema.Column{SideEffectResultsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "side_effect_results_execution_contexts_side_effect_results",
				Columns:    []*schema.Column{SideEffectResultsColumns[4]},
				RefColumns: []*schema.Column{ExecutionContextsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
	}
	// Tables holds all the tables in the schema.
	Tables = []*schema.Table{
		ExecutionContextsTable,
		HandlerExecutionsTable,
		HandlerTasksTable,
		SagaExecutionsTable,
		SagaStepExecutionsTable,
		SideEffectResultsTable,
	}
)

func init() {
	HandlerExecutionsTable.ForeignKeys[0].RefTable = ExecutionContextsTable
	HandlerExecutionsTable.ForeignKeys[1].RefTable = HandlerExecutionsTable
	HandlerExecutionsTable.ForeignKeys[2].RefTable = SagaStepExecutionsTable
	HandlerTasksTable.ForeignKeys[0].RefTable = HandlerExecutionsTable
	SagaExecutionsTable.ForeignKeys[0].RefTable = ExecutionContextsTable
	SagaStepExecutionsTable.ForeignKeys[0].RefTable = SagaExecutionsTable
	SideEffectResultsTable.ForeignKeys[0].RefTable = ExecutionContextsTable
}
